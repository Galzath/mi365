:root {
    /* Paleta NovaTech Blue & Graphite */
    --color-bg-main: #0D1117; /* Casi negro, grafito muy oscuro para el fondo del body */
    --color-bg-surface: #161B22; /* Grafito oscuro para paneles y superficies principales */
    --color-bg-header: #0D1117; /* Mismo que el fondo, o ligeramente diferente si se necesita contraste */
    --color-bg-input: #0D1117; /* Inputs pueden tener el mismo fondo que el header */

    --color-text-primary: #E6EDF3; /* Blanco grisáceo para texto principal */
    --color-text-secondary: #7D8590; /* Gris medio para texto secundario y placeholders */
    --color-text-on-accent: #FFFFFF; /* Blanco puro para texto sobre acentos */

    --color-border: #30363D; /* Borde sutil para paneles y elementos */
    --color-border-input: #484F58; /* Borde para inputs */
    --color-border-input-focus: var(--color-accent-primary);

    --color-accent-primary: #17d894; /* Cian/Turquesa vibrante */
    --color-accent-primary-hover: #14b880; /* Cian/Turquesa más oscuro para hover */
    --color-accent-secondary: #549adc; /* Magenta/Violeta eléctrico */
    --color-accent-secondary-hover: #4a8acc; /* Magenta/Violeta más oscuro para hover */

    /* Colores para estados (pueden ajustarse) */
    --color-success: #34D399; /* Emerald 400 */
    --color-warning: #FBBF24; /* Amber 400 */
    --color-danger: #F87171;  /* Red 400 */
    --color-info: var(--color-accent-secondary); /* Changed for better distinction from success */
}

body {
    font-family: 'Inter', sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--color-bg-main);
    color: var(--color-text-primary);
    line-height: 1.5;
}

/* Cabecera Principal */
nav.shadow-sm { /* Selector del HTML del dev */
    background-color: var(--color-bg-header) !important;
    border-bottom: 1px solid var(--color-border);
}

/* Logo en la cabecera */
.logo-mi365-header .logo-mi {
    color: var(--color-text-primary); 
    font-weight: 800;
}
.logo-mi365-header .logo-365-number {
    color: var(--color-accent-primary); 
    background-color: transparent;
    /* Opcional: un pequeño borde o efecto de brillo */
    /* text-shadow: 0 0 5px var(--color-accent-primary); */
    padding: 2px 4px; /* Adjusted for more breathing room */
    margin-left: 1px;
    font-size: 0.9em;
    font-weight: 800;
}
/* Logo en el login */
.logo-mi365-login .logo-mi {
    color: var(--color-text-primary);
    font-weight: 800;
}
.logo-mi365-login .logo-365-number {
    color: var(--color-accent-primary);
    background-color: transparent;
    padding: 2px 4px; /* Adjusted for more breathing room */
    margin-left: 1px;
    font-size: 0.9em;
    font-weight: 800;
}

/* Enlaces de navegación en la cabecera */
.main-header-link { 
    color: var(--color-text-secondary) !important; 
    opacity: 0.9;
    padding: 0.5rem 0.75rem; /* Added for consistent sizing (py-2 px-3) */
    border-radius: 0.375rem; /* Added for consistent rounded corners on hover/active */
    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, opacity 0.2s ease-in-out; /* Smooth transition */
}
.main-header-link:hover {
    opacity: 1;
    color: var(--color-accent-primary) !important; 
    background-color: rgba(23, 216, 148, 0.05) !important; /* Corrected RGB for --color-accent-primary with low opacity */
}
.main-header-link.active { 
    opacity: 1;
    font-weight: 600 !important;
    color: var(--color-accent-primary) !important; 
    background-color: rgba(23, 216, 148, 0.1); /* Subtle background for active state */
    /* Removed: border-bottom: 2px solid var(--color-accent-primary); */
    /* Removed: background-color: transparent !important; */
    /* Removed: border-radius: 0 !important; */
    /* Removed: padding-bottom: calc(0.5rem - 2px); */
}

/* Menú de usuario en la cabecera */
#user-menu-text {
    color: var(--color-text-primary) !important;
}
#user-menu-button svg {
    color: var(--color-text-secondary) !important;
}
#logout-dropdown { 
    background-color: var(--color-bg-surface) !important; 
    border: 1px solid var(--color-border) !important;
}
#logout-dropdown a {
    color: var(--color-text-primary) !important; 
}
#logout-dropdown a:hover {
    background-color: rgba(34, 211, 238, 0.1) !important; 
    color: var(--color-accent-primary) !important;
}
#logout-dropdown #logout-button { 
    color: var(--color-danger) !important;
}
#logout-dropdown #logout-button:hover {
    background-color: rgba(248, 113, 113, 0.1) !important; 
}

.form-label {
    display: block;
    font-size: 0.75rem; 
    font-weight: 500; 
    margin-bottom: 0.25rem; 
    color: var(--color-text-secondary);
}

input[type="text"], input[type="email"], input[type="password"], input[type="number"], input[type="date"], select, textarea {
    background-color: var(--color-bg-input);
    border: 1px solid var(--color-border-input);
    color: var(--color-text-primary);
    border-radius: 0.375rem; /* rounded-md */
    padding: 0.625rem 0.75rem; /* py-2.5 px-3 */
    font-size: 0.875rem; /* text-sm */
}
input:focus, select:focus, textarea:focus {
    border-color: var(--color-accent-primary) !important; 
    box-shadow: 0 0 0 3px rgba(34, 211, 238, 0.2); /* Sombra de foco con el acento */
    outline: none;
}
/* Placeholder color */
::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
  color: var(--color-text-secondary);
  opacity: 0.7; 
}
:-ms-input-placeholder { /* Internet Explorer 10-11 */
  color: var(--color-text-secondary);
  opacity: 0.7;
}
::-ms-input-placeholder { /* Microsoft Edge */
  color: var(--color-text-secondary);
  opacity: 0.7;
}


/* Botones primarios (acento primario) */
.btn-accent-primary {
    background-color: var(--color-accent-primary) !important;
    color: var(--color-bg-header) !important; /* Texto oscuro para contraste con teal brillante */
    font-weight: 600;
}
.btn-accent-primary:hover {
    background-color: var(--color-accent-primary-hover) !important;
}

/* Botones secundarios (outline con acento primario) */
.btn-outline-accent {
    background-color: transparent !important;
    border: 2px solid var(--color-accent-primary) !important;
    color: var(--color-accent-primary) !important;
    font-weight: 600;
}
.btn-outline-accent:hover {
    background-color: rgba(34, 211, 238, 0.1) !important;
}

.panel {
    background-color: var(--color-bg-surface);
    border: 1px solid var(--color-border);
    border-radius: 0.75rem; /* rounded-xl */
}
.kpi-card {
    background-color: var(--color-bg-surface);
    border: 1px solid var(--color-border);
    border-radius: 0.5rem; /* rounded-lg */
}
.kpi-card .kpi-value {
    color: var(--color-accent-primary);
}

.table-container {
    max-height: 200px; /* Ajustar altura para densidad */
    overflow-y: auto;
}
.compact-table th {
    background-color: var(--color-bg-surface); /* Para que el sticky header tenga fondo */
    color: var(--color-text-secondary);
    text-transform: uppercase;
    font-weight: 600;
}
.compact-table th, .compact-table td {
     padding: 0.5rem 0.75rem; 
     font-size: 0.75rem; 
     border-bottom: 1px solid var(--color-border);
}
.compact-table tbody tr:last-child td {
    border-bottom: none;
}
.table-container::-webkit-scrollbar { width: 6px; }
.table-container::-webkit-scrollbar-track { background: transparent; }
.table-container::-webkit-scrollbar-thumb { background-color: var(--color-text-secondary); border-radius: 3px; }

/* Clases de Tailwind usadas en el HTML del dev, asegurar que se vean bien con la nueva paleta */
.shadow-sm { box-shadow: 0 1px 2px 0 rgba(0,0,0,0.05); }
html .shadow-sm { box-shadow: 0 1px 2px 0 rgba(255,255,255,0.03); } /* Sombra más sutil para dark */

.shadow-md { box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); }
html .shadow-md { box-shadow: 0 4px 6px -1px rgba(255,255,255,0.04), 0 2px 4px -1px rgba(255,255,255,0.03); }

.shadow-lg { box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); }
html .shadow-lg { box-shadow: 0 10px 15px -3px rgba(255,255,255,0.03), 0 4px 6px -2px rgba(255,255,255,0.02); }

.shadow-xl { box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04); }
html .shadow-xl { box-shadow: 0 20px 25px -5px rgba(255,255,255,0.02), 0 10px 10px -5px rgba(255,255,255,0.01); }

.text-indigo-600 { color: var(--color-accent-primary); } /* Reemplazar indigo con nuestro acento primario */
.hover\:bg-gray-200:hover { background-color: rgba(255,255,255,0.05); } /* Ajustar hover para links de header */
.focus\:ring-indigo-500:focus { /* Para inputs */
    border-color: var(--color-accent-primary) !important;
    box-shadow: 0 0 0 3px rgba(34, 211, 238, 0.2) !important;
}
.bg-indigo-600 { background-color: var(--color-accent-primary) !important; }
.hover\:bg-indigo-700:hover { background-color: var(--color-accent-primary-hover) !important; }
.focus\:ring-offset-2:focus { ring-offset-color: var(--color-bg-surface) !important; }

/* Toast Notification System */
/* #toast-container is styled by Tailwind classes in HTML: fixed top-4 right-4 z-[100] space-y-2 */

.toast-message {
    padding: 0.75rem 1rem; /* py-3 px-4 */
    border-radius: 0.375rem; /* rounded-md */
    color: var(--color-text-on-accent);
    font-size: 0.875rem; /* text-sm */
    font-weight: 500;
    /* Using pre-defined dark theme shadow directly */
    box-shadow: 0 4px 6px -1px rgba(255,255,255,0.04), 0 2px 4px -1px rgba(255,255,255,0.03);
    opacity: 0.95;
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    margin-bottom: 0.5rem; /* Fallback if space-y is not used in container */
}

.toast-message.fade-out { /* Example fade-out class */
    opacity: 0;
    transform: scale(0.95);
}

.toast-success {
    background-color: var(--color-success);
}

.toast-error {
    background-color: var(--color-danger);
}

.toast-info {
    background-color: var(--color-info);
}
